// Document Editor Styles
// Custom styles for the Medium Editor-based document editor.
// Designed to work with Tailwind CSS and dark mode.

// Remove Medium Editor's default border/box from editable area
.medium-editor-element {
  border: none !important;
  box-shadow: none !important;
  padding: 0 !important;
  outline: none !important;
  background: transparent !important;
}

// Align title input with editor content - strip browser default padding
#document_title {
  padding: 0;
}

// Enhanced Medium Editor toolbar styling
.medium-editor-toolbar {
  border-radius: 0.5rem !important;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;
  border: none !important;
  background-color: white !important;
  transition: all 0.2s ease;
  transform-origin: center bottom;
  animation: toolbar-appear 0.2s ease;
  max-width: calc(100vw - 2rem) !important;
  overflow: hidden !important;
}

.dark .medium-editor-toolbar {
  background-color: #1f2937 !important; // gray-800
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.5), 0 2px 4px -1px rgba(0, 0, 0, 0.3) !important;
}

// Style the toolbar arrow
.medium-editor-toolbar:after {
  border-top-color: white !important;
}

.dark .medium-editor-toolbar:after {
  border-top-color: #1f2937 !important;
}

@keyframes toolbar-appear {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.medium-editor-toolbar-active {
  visibility: visible;
}

.medium-editor-toolbar-actions {
  display: flex !important;
  padding: 4px !important;
  gap: 2px;
  flex-wrap: wrap;
}

.medium-editor-action {
  width: 36px !important;
  height: 36px !important;
  border-radius: 0.375rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  transition: all 0.15s ease;
  background-color: white !important;
  color: #14b8a6 !important; // teal-500
  border: none !important;
}

.dark .medium-editor-action {
  background-color: #1f2937 !important; // gray-800
  color: #5eead4 !important; // teal-300
}

.medium-editor-action:hover {
  background-color: rgba(240, 253, 250, 1) !important; // teal-50
  color: #0d9488 !important; // teal-600
}

.dark .medium-editor-action:hover {
  background-color: #374151 !important; // gray-700
  color: #5eead4 !important; // teal-300
}

.medium-editor-button-active {
  background-color: rgba(204, 251, 241, 1) !important; // teal-100
  color: #0f766e !important; // teal-700
}

.dark .medium-editor-button-active {
  background-color: rgba(20, 184, 166, 0.2) !important; // teal-500/20
  color: #5eead4 !important; // teal-300
}

// Muted text selection highlight
#editor ::selection {
  background-color: rgba(204, 251, 241, 0.6) !important; // teal-100 with opacity
}

.dark #editor ::selection {
  background-color: rgba(20, 184, 166, 0.3) !important; // teal-500 with opacity
}

.medium-editor-placeholder::after {
  font-style: normal;
  color: rgba(156, 163, 175, 1);
  padding: 0;
  margin: 0;
}

.dark .medium-editor-placeholder::after {
  color: rgba(107, 114, 128, 1); // gray-500
}

// Improve the prose styling for the editor
.prose {
  max-width: none;
}

.prose h2 {
  margin-top: 1.5em;
  margin-bottom: 0.5em;
}

.prose h3 {
  margin-top: 1.5em;
  margin-bottom: 0.5em;
}

.prose p {
  margin-top: 1em;
  margin-bottom: 1em;
}

.prose ul, .prose ol {
  margin-top: 1em;
  margin-bottom: 1em;
}

// Autosave indicator animation
@keyframes pulse {
  0% { opacity: 1; }
  50% { opacity: 0.6; }
  100% { opacity: 1; }
}

.pulse-animation {
  animation: pulse 1.5s infinite ease-in-out;
}

// Remove focus outline from editor to prevent misalignment with parent border
#editor:focus,
#editor:focus-visible {
  outline: none !important;
  box-shadow: none !important;
}

// Force long words/strings to break to prevent horizontal overflow
#editor {
  overflow-wrap: break-word;
  word-break: break-word;
}

// Mobile responsiveness
@media (max-width: 640px) {
  .medium-editor-action {
    width: 32px;
    height: 32px;
  }

  #editor {
    padding: 1rem;
  }
}
