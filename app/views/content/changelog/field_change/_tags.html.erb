<!-- Modern tags diff display -->
<div class="space-y-4">
  <!-- Previous Tags -->
  <div class="space-y-2">
    <div class="flex items-center text-sm text-gray-600">
      <div class="w-3 h-3 bg-red-400 rounded-full mr-2"></div>
      <span class="font-medium">Previous Tags</span>
    </div>
    <div class="bg-red-50 border border-red-200 rounded-lg p-4 min-h-16">
      <% if old_value == ContentChangeEvent::BLANK_PLACEHOLDER %>
        <span class="text-red-400 italic text-sm">No tags</span>
      <% elsif old_value == ContentChangeEvent::PRIVATE_PLACEHOLDER %>
        <span class="text-red-400 italic text-sm">Private field</span>
      <% else %>
        <div class="flex flex-wrap gap-2">
          <% old_value.split(PageTag::SUBMISSION_DELIMITER).each do |tag| %>
            <% if user_signed_in? && @content.user == current_user %>
              <%= link_to send("page_tag_#{@content.class.name.downcase.pluralize}_path", slug: PageTagService.slug_for(tag)),
                          class: "inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800 hover:bg-red-200 transition-colors" do %>
                <i class="material-icons text-xs mr-1">tag</i>
                <%= tag %>
              <% end %>
            <% else %>
              <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800">
                <i class="material-icons text-xs mr-1">tag</i>
                <%= tag %>
              </span>
            <% end %>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>

  <!-- Current Tags -->
  <div class="space-y-2">
    <div class="flex items-center text-sm text-gray-600">
      <div class="w-3 h-3 bg-green-400 rounded-full mr-2"></div>
      <span class="font-medium">Current Tags</span>
    </div>
    <div class="bg-green-50 border border-green-200 rounded-lg p-4 min-h-16">
      <% if new_value == ContentChangeEvent::BLANK_PLACEHOLDER %>
        <span class="text-green-400 italic text-sm">No tags</span>
      <% elsif new_value == ContentChangeEvent::PRIVATE_PLACEHOLDER %>
        <span class="text-green-400 italic text-sm">Private field</span>
      <% else %>
        <div class="flex flex-wrap gap-2">
          <% new_value.split(PageTag::SUBMISSION_DELIMITER).each do |tag| %>
            <% if user_signed_in? && @content.user == current_user %>
              <%= link_to send("page_tag_#{@content.class.name.downcase.pluralize}_path", slug: PageTagService.slug_for(tag)),
                          class: "inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800 hover:bg-green-200 transition-colors" do %>
                <i class="material-icons text-xs mr-1">tag</i>
                <%= tag %>
              <% end %>
            <% else %>
              <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800">
                <i class="material-icons text-xs mr-1">tag</i>
                <%= tag %>
              </span>
            <% end %>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
</div>