<%# Actions sidebar content - document actions and tools %>

<div class="flex flex-col h-full">
  <div class="p-4">
    <!-- Two-column buttons -->
    <div class="grid grid-cols-2 gap-3 mb-4">
      <%= link_to new_document_path,
                  class: "flex flex-col items-center justify-center px-3 py-4 text-sm font-medium text-white #{Document.color} hover:bg-teal-600 rounded-lg transition-colors" do %>
        <i class="material-icons mb-1">add</i>
        New Document
      <% end %>

      <%= link_to documents_path,
                  class: "flex flex-col items-center justify-center px-3 py-4 text-sm font-medium text-white #{Document.color} hover:bg-teal-600 rounded-lg transition-colors" do %>
        <i class="material-icons mb-1">folder</i>
        All Documents
      <% end %>
    </div>

    <!-- Analyze Document -->
    <nav class="space-y-1 mb-4">
      <%= link_to queue_analysis_document_path(@document),
                  class: "w-full flex items-center px-3 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" do %>
        <i class="material-icons text-blue-500 mr-3">analytics</i>
        Analyze Document
      <% end %>
    </nav>

    <!-- Sharing Section -->
    <div class="pt-4 border-t border-gray-200 dark:border-gray-700">
      <h4 class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3">Sharing</h4>
      <nav class="space-y-1">
        <!-- Manage Privacy -->
        <button @click="$dispatch('open-modal', 'document-privacy-modal')"
                class="w-full flex items-center px-3 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-left">
          <i class="material-icons text-gray-500 dark:text-gray-400 mr-3">lock</i>
          Manage Privacy
        </button>

        <!-- Preview as Reader -->
        <%= link_to document_path(@document),
                    class: "w-full flex items-center justify-between px-3 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" do %>
          <span class="flex items-center">
            <i class="material-icons text-gray-500 dark:text-gray-400 mr-3">visibility</i>
            Preview as Reader
          </span>
          <i class="material-icons text-gray-400 text-sm">chevron_right</i>
        <% end %>

        <!-- View as Plaintext -->
        <%= link_to plaintext_document_path(@document),
                    target: "_blank",
                    class: "w-full flex items-center justify-between px-3 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" do %>
          <span class="flex items-center">
            <i class="material-icons text-gray-500 dark:text-gray-400 mr-3">text_format</i>
            View as Plaintext
          </span>
          <i class="material-icons text-gray-400 text-sm">chevron_right</i>
        <% end %>

        <!-- Printable View -->
        <%= link_to printable_document_path(@document),
                    target: "_blank",
                    class: "w-full flex items-center justify-between px-3 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" do %>
          <span class="flex items-center">
            <i class="material-icons text-gray-500 dark:text-gray-400 mr-3">print</i>
            Printable View
          </span>
          <i class="material-icons text-gray-400 text-sm">chevron_right</i>
        <% end %>
      </nav>
    </div>

    <!-- Danger Zone -->
    <div class="mt-6 pt-4 border-t border-gray-200 dark:border-gray-700">
      <h4 class="text-xs font-semibold text-red-600 dark:text-red-400 uppercase tracking-wider mb-3">Danger Zone</h4>
      <nav class="space-y-1">
        <%= button_to toggle_archive_document_path(@document),
            method: :post,
            class: "w-full flex items-center px-3 py-2.5 text-sm font-medium text-orange-600 dark:text-orange-400 rounded-lg hover:bg-orange-50 dark:hover:bg-orange-900 dark:hover:bg-opacity-30 transition-colors text-left" do %>
          <i class="material-icons text-orange-500 mr-3"><%= @document.archived? ? 'unarchive' : 'archive' %></i>
          <%= @document.archived? ? 'Unarchive this document' : 'Archive this document' %>
        <% end %>
        <%= button_to document_path(@document),
            method: :delete,
            form: {
              data: { turbo_confirm: 'Are you sure you want to delete this document? This action cannot be undone.' },
              onsubmit: "return confirm('Are you sure you want to delete this document? This action cannot be undone.');"
            },
            class: "w-full flex items-center px-3 py-2.5 text-sm font-medium text-red-600 dark:text-red-400 rounded-lg hover:bg-red-50 dark:hover:bg-red-900 dark:hover:bg-opacity-30 transition-colors text-left" do %>
          <i class="material-icons text-red-500 mr-3">delete</i>
          Delete this document
        <% end %>
      </nav>
    </div>
  </div>
</div>
